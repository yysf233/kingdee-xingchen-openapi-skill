---
id: "kdcloud-603e4808bb8611eeaee38f460af73137"
title: "销售发票单详情"
source: "金蝶云社区"
url: "https://open.jdy.com/#/files/api/detail?index=3&categrayId=&id=603e4808bb8611eeaee38f460af73137"
author: ""
published_at: ""
product: "金蝶云苍穹"
module: ["进销存云", "销售单据", "销售发票"]
language: "Kingscript"
version_hint: ["V2"]
keywords: []
quality: "B"
---

# 销售发票单详情

### 基本信息

-   用途说明：销售发票单详情
-   请求方式：GET
-   请求地址：https://api.kingdee.com/jdy/v2/scm/sal\_invoice\_detail

### 请求参数

#### headers参数

| 参数名称 | 参数示例 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| Content-Type | application/json | true | 固定传：application/json |
| X-Api-ClientID | 205022 | true | 应用id，[创建指引](https://open.jdy.com/#/files/api/detail?index=3&categrayId=316e1f5bd9d711ed8e36c17691e84ff5&id=a540e3dcd9d811ed8e3677dc79b66e86&noside=true) |
| X-Api-Auth-Version | 2.0 | true | 固定传:2.0 |
| X-Api-TimeStamp | 1655775240000 | true | 当前时间毫秒时间戳，有效期为5min |
| X-Api-SignHeaders | X-Api-TimeStamp,X-Api-Nonce | true | 固定传：X-Api-TimeStamp,X-Api-Nonce |
| X-Api-Nonce | 1655775240000 | true | 随机正整数 |
| X-Api-Signature | xxx | true | [参考加密规则](https://open.jdy.com/#/files/api/detail?index=3&categrayId=5403e0fd6a5811eda819b759130d6d33&id=b5c26557da9d11ed8e36f9799578d2e1&noside=true) |
| app-token | xxx | true | 产品账套级别的token，[获取指引](https://open.jdy.com/#/files/api/detail?index=3&categrayId=5403e0fd6a5811eda819b759130d6d33&id=9076d1a6da9d11ed8e36874bed64e0be&noside=true) |
| X-GW-Router-Addr | https://tf.jdy.com | true | IDC域名，获取appKey返回消息体内的domain字段 |

#### params参数

| 参数名称 | 参数类型 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| id | string | false | （id和number二选一） |
| number | string | false | 编码（id与number二选一） |

#### 请求示例

```bash
curl --location --request  get 'https://api.kingdee.com/jdy/v2/scm/sal_invoice_detail?id=1&number=001' \
--header 'Content-Type: application/json' \
--header 'X-Api-ClientID: 205022' \
--header 'X-Api-Auth-Version: 2.0' \
--header 'X-Api-TimeStamp: 1655775240000' \
--header 'X-Api-Nonce: 1655775240000' \
--header 'X-Api-SignHeaders: X-Api-TimeStamp,X-Api-Nonce' \
--header 'X-Api-Signature: xxx' \
--header 'app-token: xxx' \
--header 'X-GW-Router-Addr: https://tf.jdy.com'
```

### 响应参数

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| errcode | integer | 返回码，成功时为0 |
| description | string | 返回信息，成功时为success，失败时为具体信息 |
| data | Data | 业务返回具体对象 |

**Data**

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| settle\_customer\_id | string | 结算客户 |
| all\_debt | number | 应收款余额 |
| attachments | integer | 附件个数 |
| attachments\_url | List <Attachments> | 附件地址 |
| audit\_time | string | 审核时间 |
| auditor\_id | string | 审核人id |
| auditor\_name | string | 审核人名称 |
| auditor\_number | string | 审核人编码 |
| bill\_date | string | 单据日期 |
| bill\_deal\_amount | number | 成交金额 |
| bill\_dis\_amount | number | 整单折扣额 |
| bill\_dis\_rate | number | 折扣率 |
| bill\_no | string | 单据编码 |
| bill\_status | string | 单据状态 |
| contact\_address | string | 联系地址 [敏感数据解密](https://open.jdy.com/#/files/api/detail?id=d7046d818dc111ee860d0fedad361070&noside=true) |
| contact\_city\_id | string | 客户市区id |
| contact\_city\_name | string | 客户市区名称 |
| contact\_city\_number | string | 客户市区编码 |
| contact\_country\_id | string | 客户国家id |
| contact\_country\_name | string | 客户国家名称 |
| contact\_country\_number | string | 客户国家编码 |
| contact\_district\_id | string | 客户区县id |
| contact\_district\_name | string | 客户区县名称 |
| contact\_district\_number | string | 客户区县编码 |
| contact\_info | string | 联系信息 |
| contact\_linkman | string | 客户联系人 |
| contact\_phone | string | 客户联系电话 [敏感数据解密](https://open.jdy.com/#/files/api/detail?id=d7046d818dc111ee860d0fedad361070&noside=true) |
| contact\_province\_id | string | 客户省份id |
| contact\_province\_name | string | 客户省份名称 |
| contact\_province\_number | string | 客户省份编码 |
| create\_time | string | 创建时间 |
| creator\_id | string | 创建人id |
| creator\_name | string | 创建人名称 |
| creator\_number | string | 创建人编码 |
| currency\_id | string | 币别id |
| currency\_name | string | 币别名称 |
| currency\_number | string | 币别编码 |
| custom\_field | Map <string> | 自定义字段[使用指南](https://open.jdy.com/#/files/api/detail?id=76567ff2a06311edaa4b3d71bf0fce53&noside=true) |
| customer\_id | string | 客户详情字段 客户 |
| customer\_name | string | 客户名称 |
| customer\_number | string | 客户编码 |
| deduction\_balance | number | 抵扣预收款 |
| dept\_id | string | 部门id |
| dept\_name | string | 部门名称 |
| dept\_number | string | 部门编码 |
| emp\_id | string | 业务员id |
| emp\_name | string | 业务员名称 |
| emp\_number | string | 业务员编码 |
| exchange\_rate | string | 汇率，应大于零，币别为本币时，汇率取1,汇率小于零时，修正为1 |
| id | string | 单据ID |
| invoice\_type | string | 发票类型，1：普票，2：专票 |
| io\_status | string | 出入库状态 |
| last\_debt | number | 上次欠款 |
| material\_entity | List <MaterialEntity> | 商品分录 |
| modifier\_id | string | 修改人id |
| modifier\_name | string | 修改人名称 |
| modifier\_number | string | 修改人编码 |
| modify\_time | string | 修改时间 |
| payment\_entry | List <PaymentEntry> | 付款信息单据体 |
| remark | string | 单据备注 |
| required\_invoice | boolean | 是否需要开票 |
| settle\_customer\_name | string | 客户名称 |
| settle\_customer\_number | string | 客户编码 |
| subsist\_info | number | 预收款金额 |
| total\_amount | number | 本次应收账款 |
| total\_settle\_amount | string | 累计收款 |
| total\_un\_settle\_amount | number | 未核销金额 |
| trans\_type | string | 单据业务类型，0：出库，1：退货 |

**PaymentEntry**

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| id | string | 付款ID |
| pay\_amount | string | 收款金额 |
| pay\_comment | string | 备注 |
| pay\_type\_id | string | 支付方式id |
| pay\_type\_name | string | 支付方式名称 |
| seq | integer | 序号 |
| settle\_account\_id | string | 收款账户id |
| settle\_account\_name | string | 收款账户名称 |
| trans\_number | string | 交易号/票据号 |

**MaterialEntity**

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| aux\_qty | number | 辅助单位数量 |
| aux\_unit\_id | string | 辅助单位id |
| is\_free | boolean | 是否赠品 |
| material\_id | string | 商品id |
| price | number | 单价 |
| qty | number | 数量 |
| stock\_id | string | 仓库id |
| tax\_price | number | 含税单价 |
| unit\_id | string | 单位id |
| act\_non\_tax\_amount | number | 实际不含税金额 |
| act\_non\_tax\_amount\_for | number | 实际不含税金额本位币 |
| act\_tax\_price | number | 实际含税单价 |
| all\_amount | number | 价税合计 |
| all\_amount\_for | number | 价税合计本位币 |
| amount | number | 金额 |
| aux\_coefficient | number | 辅助换算率 |
| aux\_id1 | string | 辅助属性1id |
| aux\_id2 | string | 辅助属性2id |
| aux\_id3 | string | 辅助属性3id |
| aux\_name1 | string | 辅助属性1名称 |
| aux\_name2 | string | 辅助属性2名称 |
| aux\_name3 | string | 辅助属性3名称 |
| aux\_number1 | string | 辅助属性1编码 |
| aux\_number2 | string | 辅助属性2编码 |
| aux\_number3 | string | 辅助属性3编码 |
| aux\_prop\_id | string | 辅助属性id |
| aux\_prop\_name | string | 辅助属性名称 |
| aux\_prop\_number | string | 辅助属性编码 |
| aux\_unit\_name | string | 辅助单位名称 |
| aux\_unit\_number | string | 辅助单位编码 |
| barcode | string | 条形码 |
| base\_qty | number | 基本数量 |
| base\_unit\_id | string | 基本单位id |
| base\_unit\_name | string | 基本单位名称 |
| base\_unit\_number | string | 基本单位编码 |
| batch\_no | string | 批次号 |
| bill\_dis\_distribution | number | 整单折扣分配额 |
| cess | number | 增值税率 |
| coefficient | number | 换算率 |
| comment | string | 行备注 |
| conversion\_rate | string | 换算公式 |
| cost | number | 成本 |
| cur\_settle\_amount | number | 本次核销金额 |
| custom\_entity\_field | Map <string> | 自定义字段[使用指南](https://open.jdy.com/#/files/api/detail?id=76567ff2a06311edaa4b3d71bf0fce53&noside=true) |
| dis\_amount | number | 折扣额 |
| dis\_price | number | 折扣单价 |
| dis\_rate | number | 折算率 |
| discount | number | 折扣 |
| divide\_diff\_amount | number | 优惠分摊金额 |
| entry\_settle\_status | string | 分录核销状态，未收款：A，部分收款：B，全部收款：C |
| entry\_status | string | 分录状态 |
| fee | number | 销售费用分摊 |
| id | string | 商品分录id |
| inv\_base\_qty | number | 基本库存数量 |
| inv\_qty | number | 库存数量 |
| kf\_date | string | 生产日期 |
| kf\_period | integer | 保质期天数 |
| kf\_type | string | 保质期类型，1：天，2：月，3：年 |
| material\_help\_code | string | 商品助记码 |
| material\_is\_asst\_attr | boolean | 商品是否启用辅助属性 |
| material\_is\_batch | boolean | 商品是否开启批次 |
| material\_is\_kf\_period | boolean | 商品是否开启保质期 |
| material\_is\_multi\_unit | boolean | 商品是否多单位 |
| material\_is\_serial | boolean | 商品是否序列号 |
| material\_model | string | 商品规格 |
| material\_name | string | 商品名称 |
| material\_number | string | 商品编码 |
| picture | string | 图片url |
| pre\_dis\_amount | number | 折前金额 |
| pro\_license | string | 生产许可证号 |
| pro\_place | string | 产地 |
| pro\_reg\_no | string | 注册证号 |
| return\_qty | number | 退货基本数量 |
| return\_qty\_unit | number | 退货数量 |
| seq | integer | 分录序号 |
| sn\_list | string | 序列号 格式：001:备注1 |
| sn\_list\_id | string | 序列号流转ID |
| sp\_id | string | 仓位id |
| sp\_name | string | 仓位名称 |
| sp\_number | string | 仓位编码 |
| src\_bill\_date | string | 源单日期 |
| src\_bill\_no | string | 源单编码 |
| src\_bill\_type\_id | string | 源单类型：销售出库单sal\_bill\_outbound、销售退货申请单sal\_inbound\_request |
| src\_bill\_type\_name | string | 源单类型名称 |
| src\_bill\_type\_number | string | 源单类型编码 |
| src\_entry\_id | string | 源单分录id |
| src\_inter\_id | string | 源单id |
| src\_order\_id | string | 订单单号 |
| src\_seq | integer | 源单行号 |
| stock\_is\_allow\_freight | boolean | 仓库启用仓位管理 |
| stock\_name | string | 仓库名称 |
| stock\_number | string | 仓库编码 |
| tax\_amount | number | 税额 |
| tax\_amount\_for | number | 税额本位币 |
| unit\_cost | number | 单位成本 |
| unit\_name | string | 单位名称 |
| unit\_number | string | 单位编码 |
| valid\_date | string | 有效日期 |

**Attachments**

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| panel | string | 附件面板，暂时无用 |
| url | string | 附件地址 |

#### 响应示例

```json
{
  "data": {
    "all_debt": 50.5,
    "attachments": 5,
    "attachments_url": [
      {
        "panel": "",
        "url": "http://xxxxx.com"
      }
    ],
    "audit_time": "2022-08-01 00:00:00",
    "auditor_id": "1",
    "auditor_name": "审核人A",
    "auditor_number": "001",
    "bill_date": "2022-02-02",
    "bill_deal_amount": 3,
    "bill_dis_amount": 50.36,
    "bill_dis_rate": 3,
    "bill_no": "001",
    "bill_status": "C",
    "contact_address": "1",
    "contact_city_id": "3",
    "contact_city_name": "深圳市",
    "contact_city_number": "003",
    "contact_country_id": "1",
    "contact_country_name": "中国",
    "contact_country_number": "001",
    "contact_district_id": "4",
    "contact_district_name": "XX县",
    "contact_district_number": "004",
    "contact_info": "联系信息",
    "contact_linkman": "172333444",
    "contact_phone": "13322112211",
    "contact_province_id": "2",
    "contact_province_name": "广东省",
    "contact_province_number": "002",
    "create_time": "2020-03-02 15:15:59",
    "creator_id": "1",
    "creator_name": "创建人A",
    "creator_number": "001",
    "currency_id": "1",
    "currency_name": "开发部",
    "currency_number": "001",
    "custom_field": {},
    "customer_id": "1",
    "customer_name": "客户名称",
    "customer_number": "001",
    "deduction_balance": 5.02,
    "dept_id": "2",
    "dept_name": "部门A",
    "dept_number": "003",
    "emp_id": "739763410337575936",
    "emp_name": "销售员C",
    "emp_number": "003",
    "exchange_rate": "1",
    "id": "838301774942061568",
    "invoice_type": "1",
    "io_status": null,
    "last_debt": 50.22,
    "material_entity": [
      {
        "act_non_tax_amount": 10.2,
        "act_non_tax_amount_for": 1,
        "act_tax_price": 50.2,
        "all_amount": 90,
        "all_amount_for": 120,
        "amount": 80.2,
        "aux_coefficient": 50,
        "aux_id1": "1",
        "aux_id2": "2",
        "aux_id3": "1",
        "aux_name1": "辅助属性A",
        "aux_name2": "辅助属性B",
        "aux_name3": "辅助属性C",
        "aux_number1": "001",
        "aux_number2": "002",
        "aux_number3": "003",
        "aux_prop_id": "1",
        "aux_prop_name": "蓝/L",
        "aux_prop_number": "001",
        "aux_qty": 1,
        "aux_unit_id": "697110094189441024",
        "aux_unit_name": "克",
        "aux_unit_number": "001",
        "barcode": "22112",
        "base_qty": 22,
        "base_unit_id": "1",
        "base_unit_name": "克",
        "base_unit_number": "g",
        "batch_no": "2022506",
        "bill_dis_distribution": 10.2,
        "cess": 30.2,
        "coefficient": 1,
        "comment": "xxxxx",
        "conversion_rate": "xx",
        "cost": 10.2,
        "cur_settle_amount": 30.2,
        "custom_entity_field": {},
        "dis_amount": 10.2,
        "dis_price": 10.2,
        "dis_rate": 3,
        "discount": 3,
        "divide_diff_amount": 20.2,
        "entry_settle_status": "C",
        "entry_status": "Z",
        "fee": 20,
        "id": "1",
        "inv_base_qty": 50,
        "inv_qty": 50,
        "is_free": false,
        "kf_date": "2020-01-01",
        "kf_period": 200,
        "kf_type": "2",
        "material_help_code": "002",
        "material_id": "697140092908614656",
        "material_is_asst_attr": false,
        "material_is_batch": false,
        "material_is_kf_period": false,
        "material_is_multi_unit": false,
        "material_is_serial": false,
        "material_model": "001",
        "material_name": "序列号01",
        "material_number": "1",
        "picture": "xxx",
        "pre_dis_amount": 20.2,
        "price": 99,
        "pro_license": "111201",
        "pro_place": "深圳",
        "pro_reg_no": "2002010",
        "qty": 1,
        "return_qty": 20,
        "return_qty_unit": 20,
        "seq": 1,
        "sn_list": "1",
        "sn_list_id": "1",
        "sp_id": "",
        "sp_name": "",
        "sp_number": "",
        "src_bill_date": "2022-08-08",
        "src_bill_no": "1",
        "src_bill_type_id": "sal_inbound_request",
        "src_bill_type_name": "销售出库单",
        "src_bill_type_number": "sal_bill_outbound",
        "src_entry_id": "1",
        "src_inter_id": "1",
        "src_order_id": "1",
        "src_seq": 1,
        "stock_id": "697105306978627584",
        "stock_is_allow_freight": false,
        "stock_name": "仓库A",
        "stock_number": "001",
        "tax_amount": 20.2,
        "tax_amount_for": 80,
        "tax_price": 101,
        "unit_cost": 20.2,
        "unit_id": "697110094189441024",
        "unit_name": "克",
        "unit_number": "g",
        "valid_date": "180"
      }
    ],
    "modifier_id": "2",
    "modifier_name": "修改人B",
    "modifier_number": "003",
    "modify_time": "2020-03-02 15:15:59",
    "payment_entry": [
      {
        "id": "1",
        "pay_amount": "50.2",
        "pay_comment": "XXXX",
        "pay_type_id": "2",
        "pay_type_name": "微信支付",
        "seq": 1,
        "settle_account_id": "2",
        "settle_account_name": "收款账户",
        "trans_number": "002"
      }
    ],
    "remark": "这是备注",
    "required_invoice": false,
    "settle_customer_id": "727402661418126336",
    "settle_customer_name": "客户名称",
    "settle_customer_number": "001",
    "subsist_info": 50,
    "total_amount": 50.2,
    "total_settle_amount": "100",
    "total_un_settle_amount": 300.05,
    "trans_type": "1"
  },
  "description": "success",
  "errcode": 0
}
```

#### 返回码

| 返回码 | 描述 | 解决方案 |
| --- | --- | --- |
| [公告返回码](https://open.jdy.com/#/files/api/detail?index=2&categrayId=1f51c576013945e2af68ef15d4245a48&id=525e704824d24b178ab466530456c037) | 公告返回码 |  |
| 2000002000 | 系统错误,请到开发者社区提单反馈 | [开发者社区](https://vip.kingdee.com/developer?productLineId=29) |
