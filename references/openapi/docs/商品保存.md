---
id: "kdcloud-9c76bffa712511eda0b3975a648d9bfe"
title: "商品保存"
source: "金蝶云社区"
url: "https://open.jdy.com/#/files/api/detail?index=3&categrayId=&id=9c76bffa712511eda0b3975a648d9bfe"
author: ""
published_at: ""
product: "金蝶云苍穹"
module: ["基础资料", "商品资料", "商品信息"]
language: "Kingscript"
version_hint: ["V2"]
keywords: []
quality: "B"
---

# 商品保存

### 基本信息

-   用途说明：商品新增及修改。审核、删除等详见[通用操作接口](https://open.jdy.com/#/files/api/detail?index=2&categrayId=3cc8ee9a663e11eda5c84b5d383a2b93&id=9e804b8c712511eda0b39f724d124b07)
-   请求方式：POST
-   请求地址：https://api.kingdee.com/jdy/v2/bd/material

### 请求参数

#### headers参数

| 参数名称 | 参数示例 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| Content-Type | application/json | true | 固定传：application/json |
| X-Api-ClientID | 205022 | true | 应用id，[创建指引](https://open.jdy.com/#/files/api/detail?index=3&categrayId=316e1f5bd9d711ed8e36c17691e84ff5&id=a540e3dcd9d811ed8e3677dc79b66e86&noside=true) |
| X-Api-Auth-Version | 2.0 | true | 固定传:2.0 |
| X-Api-TimeStamp | 1655775240000 | true | 当前时间毫秒时间戳，有效期为5min |
| X-Api-SignHeaders | X-Api-TimeStamp,X-Api-Nonce | true | 固定传：X-Api-TimeStamp,X-Api-Nonce |
| X-Api-Nonce | 1655775240000 | true | 随机正整数 |
| X-Api-Signature | xxx | true | [参考加密规则](https://open.jdy.com/#/files/api/detail?index=3&categrayId=5403e0fd6a5811eda819b759130d6d33&id=b5c26557da9d11ed8e36f9799578d2e1&noside=true) |
| app-token | xxx | true | 产品账套级别的token，[获取指引](https://open.jdy.com/#/files/api/detail?index=3&categrayId=5403e0fd6a5811eda819b759130d6d33&id=9076d1a6da9d11ed8e36874bed64e0be&noside=true) |
| X-GW-Router-Addr | https://tf.jdy.com | true | IDC域名，获取appKey返回消息体内的domain字段 |

#### body参数

| 参数名称 | 参数类型 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| base\_unit\_id | string | true | 计量单位id |
| name | string | true | 商品名称 |
| alarm\_day | string | false | 预警天数 |
| attachments\_url | List <AttachmentsUrl> | false | 附件地址 |
| aux\_entity | List <Auxentity> | false | 辅助属性 |
| aux\_unit\_id | string | false | 报表辅助单位 |
| barcode | string | false | 条形码 |
| barcode\_entity | List <BarcodeEntitySave> | false | 商品条码 |
| bomentity | List <Bomentity> | false | 套装信息对象 |
| brand\_id | string | false | 品牌id |
| brand\_number | string | false | 品牌编码 |
| check\_type | string | false | 商品类型(普通：1、套装：2、服务：3) 不填，默认为 1 |
| coefficient1 | number | false | 换算率1 |
| coefficient2 | number | false | 换算率2 |
| coefficient3 | number | false | 换算率3 |
| computation\_rule | integer | false | 商品类型为套装时传递：套装分摊规则，1：按金额分摊，2：按成本分摊 |
| conversion\_unit1\_id | string | false | 换算单位1 |
| conversion\_unit\_id2 | string | false | 换算单位2 |
| conversion\_unit\_id3 | string | false | 换算单位3 |
| cost\_method | string | false | 成本计算方法, 1：移动平均法，2：加权平均法，3：先进先出法 |
| custom\_field | Map <string> | false | 自定义字段[使用指南](https://open.jdy.com/#/files/api/detail?id=76567ff2a06311edaa4b3d71bf0fce53&noside=true) |
| enable | string | false | 状态（1启用，0禁用） |
| fetch\_category\_id | string | false | 税收分类编码 |
| fix\_unit\_id1 | string | false | 辅助单位1,启动多单位，才需要传递 |
| fix\_unit\_id2 | string | false | 辅助单位2 |
| fix\_unit\_id3 | string | false | 辅助单位3 |
| gross\_weight | string | false | 毛重 |
| help\_code | string | false | 助记码 |
| high | string | false | 高 |
| id | string | false | 新增不填，更新时必填（id为空时代表新增单据） |
| ignore\_warn | boolean | false | 是否忽略告警信息(如：商品名称已存在)保存商品 |
| images | List <string> | false | 商品图片, 商品图片服务器连接(上传图片接口的返回值)的集合 |
| in\_tax\_rate | string | false | 进项税率 |
| inv\_mgr\_type | string | false | 库存管理方式, 0：统一库存，1：分仓库存,默认统一库存 |
| is\_assembly | boolean | false | 是否可为组件 |
| is\_asst\_attr | boolean | false | 是否启用辅助属性,默认false |
| is\_aux\_cost | boolean | false | 按辅助属性核算成本,默认false |
| is\_bat\_ch\_cost | boolean | false | 按批次核算成本,默认false |
| is\_batch | boolean | false | 是否启用批次管理 |
| is\_float | boolean | false | 是否启浮动单位,默认false，不启用 |
| is\_inv\_aux\_set | boolean | false | 库存预警：根据辅助属性设置 |
| is\_kf\_period | boolean | false | 是否启用保质期 |
| is\_multi\_unit | boolean | false | 是否启用多单位,默认false，不启用 |
| is\_out\_source | boolean | false | 是否可委外,默认false-购买生产模块才传 |
| is\_purchase | boolean | false | 是否可采购 |
| is\_sale | boolean | false | 是否可销售 |
| is\_self\_restraint | boolean | false | 是否可自制,默认false-购买生产模块才传 |
| is\_serial | boolean | false | 是否启用序列号管理 |
| is\_subpart | boolean | false | 是否可为子件 |
| is\_weight | boolean | false | 是否启用称重 |
| kf\_period | string | false | 保质期 |
| kf\_period\_type | string | false | 保质期单位，1：天，2：月，3：年 |
| length | string | false | 长 |
| max\_inventory\_qty | string | false | 最高库存 |
| min\_inventory\_qty | string | false | 最低库存 |
| model | string | false | 规格型号 |
| mul\_label\_number | string | false | 商品标签编码，多个标签使用英文逗号分隔 |
| net\_weight | string | false | 净重 |
| number | string | false | 商品编码,不传递则由后台生成（不设置有编码规则和更新时必传） |
| parent\_id | string | false | 商品类别id |
| parent\_number | string | false | 商品类别编码 （\*id与number二选一,同下） |
| price\_entity | List <PriceEntitySave> | false | 商品价格 |
| pro\_license | string | false | 生产许可证 |
| producing\_pace | string | false | 产地 |
| product\_department\_id | string | false | 默认生产车间id，product\_department\_id和product\_department\_number二选一 |
| product\_department\_number | string | false | 默认生产车间编码，product\_department\_id和product\_department\_number二选一 |
| purchase\_id | string | false | 采购员 |
| purchase\_unit\_id | string | false | 采购单位 |
| refistration\_number | string | false | 注册证号 |
| remark | string | false | 描述 |
| sale\_unit\_id | string | false | 销售单位 |
| sec\_inventory\_qty | string | false | 预警库存 |
| space\_id | string | false | 默认仓位 |
| stock\_id | string | false | 默认仓库 |
| store\_entity | List <Store> | false | 库存管理，只有当inv\_mgr\_type为1时，才会生效 |
| store\_unit\_id | string | false | 库存单位 |
| tax\_rate | string | false | 销项税率 |
| vender\_id | string | false | 默认供应商 |
| volume | string | false | 体积 |
| volume\_unit\_id | string | false | 体积单位 |
| weight\_unit\_id | string | false | 重量单位 |
| wide | string | false | 宽 |

**Store**

| 参数名称 | 参数类型 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| store\_id | string | true | 仓库id |
| id | string | false | 新增分录时不填，修改分录时必填 |
| max\_qty | string | false | 最高库存数量 |
| min\_qty | string | false | 最低库存数量 |
| sec\_qty | string | false | 安全库存数量 |
| sku\_id | string | false | SKUID，新增时不传递，会自动生成 |
| space\_id | string | false | 仓位id,仓库启用仓位管理时必填 |

**PriceEntitySave**

| 参数名称 | 参数类型 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| id | string | false | 分录id，新增分录时不填，修改分录时必填 |
| price\_barcode | string | false | 条形码 |
| price\_cost\_price | string | false | 参考成本 |
| price\_distribution\_price | string | false | 配送价 |
| price\_max\_purchase\_price | string | false | 最高采购价 |
| price\_min\_pur\_tax\_price | string | false | 最低含税采购价 |
| price\_min\_sales\_price | string | false | 最低销售价 |
| price\_near\_pur\_price | string | false | 最近采购单价 |
| price\_near\_pur\_tax\_price | string | false | 最近采购含税单价 |
| price\_near\_pur\_unit\_cost | string | false | 最近采购入库成本 |
| price\_near\_sal\_price | string | false | 最近销售单价 |
| price\_near\_sal\_tax\_price | string | false | 最近销售含税单价 |
| price\_near\_supplier | string | false | 最近成交供应商 |
| price\_outsourceprice | string | false | 委外价 |
| price\_purchase\_price | string | false | 采购价 |
| price\_retail\_price | string | false | 零售价 |
| price\_sale\_price1 | string | false | 价格等级1 |
| price\_sale\_price10 | string | false | 价格等级10 |
| price\_sale\_price2 | string | false | 价格等级2 |
| price\_sale\_price3 | string | false | 价格等级3 |
| price\_sale\_price4 | string | false | 价格等级4 |
| price\_sale\_price5 | string | false | 价格等级5 |
| price\_sale\_price6 | string | false | 价格等级6 |
| price\_sale\_price7 | string | false | 价格等级7 |
| price\_sale\_price8 | string | false | 价格等级8 |
| price\_sale\_price9 | string | false | 价格等级9 |
| price\_trade\_price | string | false | 批发价 |
| price\_unit\_id | string | false | 价格单位id |
| price\_unit\_name | string | false | 价格单位名称 |
| price\_unit\_number | string | false | 价格单位编码 |

**Bomentity**

| 参数名称 | 参数类型 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| material\_id | string | true | 套装商品id |
| qty | string | true | 数量 |
| unit\_id | string | true | 套装单位id |
| aux\_id | string | false | 辅助属性id |
| aux\_id1 | string | false | 辅助属性1id |
| aux\_id2 | string | false | 辅助属性1id |
| aux\_id3 | string | false | 辅助属性1id |
| aux\_id4 | string | false | 辅助属性1id |
| aux\_id5 | string | false | 辅助属性1id |
| entry\_cost\_price | string | false | 套装参考成本 |
| id | string | false | 分录id,新增分录时不填，修改分录时必填 |
| is\_free | boolean | false | 是否赠品 |
| is\_replace | boolean | false | 是否替换 |
| material\_replace | string | false | 替换商品，商品编码,多个编码使用英文逗号隔开 |
| price | string | false | 单价 |

**BarcodeEntitySave**

| 参数名称 | 参数类型 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| barcode | string | false | 条形码 |
| barcode\_remark | string | false | 条码备注 |
| barcode\_unit\_id | string | false | 条码单位id |
| id | string | false | 分录id,新增分录时不填，修改分录时必填 |

**Auxentity**

| 参数名称 | 参数类型 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| aux1\_name | string | false | 辅助属性1名称 |
| aux2\_name | string | false | 辅助属性2名称 |
| aux3\_name | string | false | 辅助属性3名称 |
| aux4\_name | string | false | 辅助属性4名称 |
| aux5\_name | string | false | 辅助属性5名称 |
| aux\_combination\_name | string | false | 辅助属性名称连接,使用/分隔每个属性 |
| aux\_enable | string | false | 辅助属性是否启用 ,默认false |
| aux\_id1 | string | false | 辅助属性1 |
| aux\_id2 | string | false | 辅助属性2 |
| aux\_id3 | string | false | 辅助属性3 |
| aux\_id4 | string | false | 辅助属性4 |
| aux\_id5 | string | false | 辅助属性5 |
| aux\_type\_id1 | string | false | 辅助属性类型1 |
| aux\_type\_id2 | string | false | 辅助属性类型2 |
| aux\_type\_id3 | string | false | 辅助属性类型3 |
| aux\_type\_id4 | string | false | 辅助属性类型4 |
| aux\_type\_id5 | string | false | 辅助属性类型3 |
| concat\_type\_id | string | false | 多个辅助属性id连接串,使用英文逗号隔开 |
| id | string | false | 分录id,新增分录时不填，修改分录时必填 |
| picture\_url | string | false | 辅助属性主图 |
| sku\_id | string | false | 辅助属性id,传递则更新 |
| sku\_number | string | false | SKU编码 |

**AttachmentsUrl**

| 参数名称 | 参数类型 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| url | string | false | 附件地址 |

#### 请求示例

```bash
curl --location --request  post 'https://api.kingdee.com/jdy/v2/bd/material' \
--header 'Content-Type: application/json' \
--header 'X-Api-ClientID: 205022' \
--header 'X-Api-Auth-Version: 2.0' \
--header 'X-Api-TimeStamp: 1655775240000' \
--header 'X-Api-Nonce: 1655775240000' \
--header 'X-Api-SignHeaders: X-Api-TimeStamp,X-Api-Nonce' \
--header 'X-Api-Signature: xxx' \
--header 'app-token: xxx' \
--header 'X-GW-Router-Addr: https://tf.jdy.com' \
--data-row ' { 	"alarm_day":"1", 	"attachments_url":[ 		{ 			"url":"http" 		} 	], 	"aux_entity":[ 		{ 			"aux1_name":"  14123 ", 			"aux2_name":"  14123 ", 			"aux3_name":"  14123 ", 			"aux4_name":"  14123 ", 			"aux5_name":"  14123 ", 			"aux_combination_name":"颜色/尺寸", 			"aux_enable":"false", 			"aux_id1":"1", 			"aux_id2":"1", 			"aux_id3":"1", 			"aux_id4":"1", 			"aux_id5":"1", 			"aux_type_id1":"1", 			"aux_type_id2":"1", 			"aux_type_id3":"1", 			"aux_type_id4":"1", 			"aux_type_id5":"1", 			"concat_type_id":"1/2", 			"id":"1", 			"picture_url":"http", 			"sku_id":"1", 			"sku_number":"001" 		} 	], 	"aux_unit_id":"1", 	"barcode":"001", 	"barcode_entity":[ 		{ 			"barcode":"001", 			"barcode_remark":"条码备注", 			"barcode_unit_id":"1", 			"id":"1" 		} 	], 	"base_unit_id":"1", 	"bomentity":[ 		{ 			"aux_id":"  14123 ", 			"aux_id1":"  14123 ", 			"aux_id2":"  14123 ", 			"aux_id3":"  14123 ", 			"aux_id4":"  14123 ", 			"aux_id5":"  14123 ", 			"entry_cost_price":"9", 			"id":"1", 			"is_free":false, 			"is_replace":false, 			"material_id":"843913969650383872", 			"material_replace":"'TH-1010'", 			"price":"99", 			"qty":"50", 			"unit_id":"1" 		} 	], 	"brand_id":"1", 	"brand_number":"001", 	"check_type":"1", 	"coefficient1":1, 	"coefficient2":1, 	"coefficient3":1, 	"computation_rule":1, 	"conversion_unit1_id":"1", 	"conversion_unit_id2":"1", 	"conversion_unit_id3":"1", 	"cost_method":"1", 	"custom_field":{}, 	"enable":"1", 	"fetch_category_id":"001", 	"fix_unit_id1":"1", 	"fix_unit_id2":"1", 	"fix_unit_id3":"1", 	"gross_weight":"1", 	"help_code":"001", 	"high":"1", 	"id":"1", 	"ignore_warn":false, 	"images":[], 	"in_tax_rate":"1", 	"inv_mgr_type":"1", 	"is_assembly":false, 	"is_asst_attr":false, 	"is_aux_cost":false, 	"is_bat_ch_cost":false, 	"is_batch":false, 	"is_float":false, 	"is_inv_aux_set":false, 	"is_kf_period":false, 	"is_multi_unit":false, 	"is_out_source":false, 	"is_purchase":false, 	"is_sale":false, 	"is_self_restraint":false, 	"is_serial":false, 	"is_subpart":false, 	"is_weight":false, 	"kf_period":"1", 	"kf_period_type":"1", 	"length":"1", 	"max_inventory_qty":"1", 	"min_inventory_qty":"1", 	"model":"001", 	"mul_label_number":"001", 	"name":"名称", 	"net_weight":"1", 	"number":"001", 	"parent_id":"1", 	"parent_number":"1", 	"price_entity":[ 		{ 			"id":"1", 			"price_barcode":"001", 			"price_cost_price":"1", 			"price_distribution_price":"1", 			"price_max_purchase_price":"1", 			"price_min_pur_tax_price":"1", 			"price_min_sales_price":"1", 			"price_near_pur_price":"1", 			"price_near_pur_tax_price":"1", 			"price_near_pur_unit_cost":"1", 			"price_near_sal_price":"1", 			"price_near_sal_tax_price":"1", 			"price_near_supplier":"1", 			"price_outsourceprice":"1", 			"price_purchase_price":"1", 			"price_retail_price":"1", 			"price_sale_price1":"0", 			"price_sale_price10":"0", 			"price_sale_price2":"0", 			"price_sale_price3":"0", 			"price_sale_price4":"0", 			"price_sale_price5":"0", 			"price_sale_price6":"0", 			"price_sale_price7":"0", 			"price_sale_price8":"0", 			"price_sale_price9":"0", 			"price_trade_price":"1", 			"price_unit_id":"1", 			"price_unit_name":"名称", 			"price_unit_number":"001" 		} 	], 	"pro_license":"001", 	"producing_pace":"广东", 	"product_department_id":"232131232", 	"product_department_number":"BM001", 	"purchase_id":"1", 	"purchase_unit_id":"1", 	"refistration_number":"001", 	"remark":"描述", 	"sale_unit_id":"1", 	"sec_inventory_qty":"1", 	"space_id":"1", 	"stock_id":"1", 	"store_entity":[ 		{ 			"id":"1", 			"max_qty":"1", 			"min_qty":"1", 			"sec_qty":"1", 			"sku_id":"1", 			"space_id":"1", 			"store_id":"1" 		} 	], 	"store_unit_id":"1", 	"tax_rate":"1", 	"vender_id":"1", 	"volume":"1", 	"volume_unit_id":"1", 	"weight_unit_id":"1", 	"wide":"1" }'
```

### 响应参数

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| errcode | integer | 返回码，成功时为0 |
| description | string | 返回信息，成功时为success，失败时为具体信息 |
| data | Data | 业务返回具体对象 |

**Data**

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| id\_number\_map | Map <string> | id与编码map |
| ids | List <string> | 单据id数组对象 |

#### 响应示例

```json
{
  "data": {
    "id_number_map": {},
    "ids": [
      "1"
    ]
  },
  "description": "success",
  "errcode": 0
}
```

#### 返回码

| 返回码 | 描述 | 解决方案 |
| --- | --- | --- |
| [公告返回码](https://open.jdy.com/#/files/api/detail?index=2&categrayId=1f51c576013945e2af68ef15d4245a48&id=525e704824d24b178ab466530456c037) | 公告返回码 |  |
| 2000002000 | 系统错误,请到开发者社区提单反馈 | [开发者社区](https://vip.kingdee.com/developer?productLineId=29) |
