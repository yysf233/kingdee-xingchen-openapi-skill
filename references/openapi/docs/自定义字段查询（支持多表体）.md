---
id: "kdcloud-edd2aa3bb37011efadbd8be5add4e68e"
title: "自定义字段查询（支持多表体）"
source: "金蝶云社区"
url: "https://open.jdy.com/#/files/api/detail?index=3&categrayId=&id=edd2aa3bb37011efadbd8be5add4e68e"
author: ""
published_at: ""
product: "金蝶云苍穹"
module: ["系统设置"]
language: "Kingscript"
version_hint: ["V2"]
keywords: []
quality: "B"
---

# 自定义字段查询（支持多表体）

### 基本信息

-   用途说明：自定义字段查询（支持多表体）
-   请求方式：GET
-   请求地址：https://api.kingdee.com/jdy/v2/sys/custom\_mult\_field

### 请求参数

#### headers参数

| 参数名称 | 参数示例 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| Content-Type | application/json | true | 固定传：application/json |
| X-Api-ClientID | 205022 | true | 应用id，[创建指引](https://open.jdy.com/#/files/api/detail?index=3&categrayId=316e1f5bd9d711ed8e36c17691e84ff5&id=a540e3dcd9d811ed8e3677dc79b66e86&noside=true) |
| X-Api-Auth-Version | 2.0 | true | 固定传:2.0 |
| X-Api-TimeStamp | 1655775240000 | true | 当前时间毫秒时间戳，有效期为5min |
| X-Api-SignHeaders | X-Api-TimeStamp,X-Api-Nonce | true | 固定传：X-Api-TimeStamp,X-Api-Nonce |
| X-Api-Nonce | 1655775240000 | true | 随机正整数 |
| X-Api-Signature | xxx | true | [参考加密规则](https://open.jdy.com/#/files/api/detail?index=3&categrayId=5403e0fd6a5811eda819b759130d6d33&id=b5c26557da9d11ed8e36f9799578d2e1&noside=true) |
| app-token | xxx | true | 产品账套级别的token，[获取指引](https://open.jdy.com/#/files/api/detail?index=3&categrayId=5403e0fd6a5811eda819b759130d6d33&id=9076d1a6da9d11ed8e36874bed64e0be&noside=true) |
| X-GW-Router-Addr | https://tf.jdy.com | true | IDC域名，获取appKey返回消息体内的domain字段 |

#### params参数

| 参数名称 | 参数类型 | 是否必填 | 参数说明 |
| --- | --- | --- | --- |
| entity\_number | string | true | 单据或基础资料类型，参考<基础资料及业务单据类型> |
| show\_field\_formula | boolean | false | 是否显示计算公式，默认否 |

#### 请求示例

```bash
curl --location --request  get 'https://api.kingdee.com/jdy/v2/sys/custom_mult_field?entity_number=sal_bill_order&show_field_formula=false' \
--header 'Content-Type: application/json' \
--header 'X-Api-ClientID: 205022' \
--header 'X-Api-Auth-Version: 2.0' \
--header 'X-Api-TimeStamp: 1655775240000' \
--header 'X-Api-Nonce: 1655775240000' \
--header 'X-Api-SignHeaders: X-Api-TimeStamp,X-Api-Nonce' \
--header 'X-Api-Signature: xxx' \
--header 'app-token: xxx' \
--header 'X-GW-Router-Addr: https://tf.jdy.com'
```

### 响应参数

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| errcode | integer | 返回码，成功时为0 |
| description | string | 返回信息，成功时为success，失败时为具体信息 |
| data | Data | 业务返回具体对象 |

**Data**

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| rows | List <Customs> | 列表数据 |

**Customs**

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| audit\_lock | boolean | 审核后是否允许修改，true:不允许修改，false:允许修改 |
| base\_entity\_number | string | 基础资料标识，字段类型为4、5、6的时候独有该字段 |
| custom\_type | string | head/单据体的key |
| def\_value | string | 默认值，字段类型为4的时候没有该字段 |
| display\_name | string | 字段展示名称 |
| field\_type | string | 字段类型，（1：文本，2：数字，3：日期，4：辅助资料，5：基础资料，6：引用基础资料属性） |
| formula | Formula | 自定义字段计算公式，只有字段类型为number并且设置了计算公式时才返回改参数 |
| items | List <Items> | 下拉选项，字段类型field\_type=6的时候独有该字段 |
| must\_input | boolean | 必录 |
| number | string | 字段名 |
| precision | number | 精度，字段类型为2的时候才有该字段 |
| ref\_field\_number | string | 引用基础资料的字段标识，字段类型为6的时候独有该字段 |
| ref\_field\_type | string | 引用基础资料的字段类型，字段类型为6的时候独有该字段。1：基础资料，2：多选基础资料，3：其他 |
| type\_id | string | 辅助资料分类id，字段类型为4的时候独有该字段 |

**Items**

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| name | string | 下拉显示值 |
| value | string | 下拉显示值 |

**Formula**

| 参数名称 | 参数类型 | 参数说明 |
| --- | --- | --- |
| formula | string | 计算公式 |
| formula\_param\_key | List <string> | 字段名列表 |
| formula\_str | string | 计算公式描述 |

#### 响应示例

```json
{
  "data": {
    "rows": [
      {
        "audit_lock": false,
        "base_entity_number": "bd_customer",
        "custom_type": "head",
        "def_value": "0",
        "display_name": "数值1",
        "field_type": "6",
        "formula": {
          "formula": "api",
          "formula_param_key": [],
          "formula_str": "api"
        },
        "items": [
          {
            "name": "inv_product_bill",
            "value": "inv_product_bill"
          }
        ],
        "must_input": false,
        "number": "custom_field__2__4gyhotid16yp",
        "precision": 2,
        "ref_field_number": "invoicetype",
        "ref_field_type": "4",
        "type_id": "1"
      }
    ]
  },
  "description": "success",
  "errcode": 0
}
```

#### 返回码

| 返回码 | 描述 | 解决方案 |
| --- | --- | --- |
| [公告返回码](https://open.jdy.com/#/files/api/detail?index=2&categrayId=1f51c576013945e2af68ef15d4245a48&id=525e704824d24b178ab466530456c037) | 公告返回码 |  |
| 2000002000 | 系统错误,请到开发者社区提单反馈 | [开发者社区](https://vip.kingdee.com/developer?productLineId=29) |
